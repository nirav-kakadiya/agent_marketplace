# ğŸ¯ Marketing Agent â€” Full Plan

## What Already Exists âœ…

The ARISE codebase already has solid foundations:

| Component | Status | Notes |
|---|---|---|
| Message Bus | âœ… Done | Routing, middleware, pub/sub |
| LLM Client | âœ… Done | OpenRouter, Anthropic, OpenAI, Gemini |
| Memory System | âœ… Done | Persistent key-value with tags |
| Orchestrator | âœ… Done | Plans & delegates via LLM |
| Researcher | âœ… Done | Web research (LLM-based) |
| Writer | âœ… Done | Blog posts, articles |
| Editor | âœ… Done | Grammar, SEO, readability |
| Social Writer | âœ… Done | Blog â†’ Twitter/LinkedIn/Instagram/Facebook |
| Publisher | âœ… Done | Platform integrations |
| Brand Manager | âœ… Done | Voice, tone, learning |
| Scheduler | âœ… Done | Cron-like recurring jobs |
| Analytics | âœ… Done | Performance tracking |
| Multi-tenant | âœ… Done | Per-tenant config, memory, creds |
| Auth | âœ… Done | API keys, sessions, roles |
| HTTP Server | âœ… Done | Hono with REST API |

---

## What Needs to Be Built / Improved ğŸ”¨

### Phase 1: Make It Production-Ready

#### 1.1 â€” Real Web Research (not just LLM hallucination)
**Current:** Researcher agent asks LLM to "research" â€” it just generates text, no actual web access.
**Need:** Actual web scraping / search API integration.

```
agents/researcher/
â”œâ”€â”€ index.ts              â† Main agent (exists, needs upgrade)
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ web-search.ts     â† Brave/Google/Serper API
â”‚   â”œâ”€â”€ web-scraper.ts    â† Fetch & extract page content
â”‚   â”œâ”€â”€ competitor.ts     â† Competitor analysis tool
â”‚   â””â”€â”€ trend-finder.ts   â† Google Trends, Reddit, HN
â””â”€â”€ prompts/
    â””â”€â”€ research.ts       â† System prompts for research tasks
```

#### 1.2 â€” SEO-First Content Pipeline
**Current:** Writer writes generic content.
**Need:** SEO-driven content that actually ranks.

```
agents/writer/
â”œâ”€â”€ index.ts              â† Main agent (exists, needs upgrade)
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ keyword-analyzer.ts   â† Keyword difficulty, volume, intent
â”‚   â”œâ”€â”€ outline-builder.ts    â† SEO-optimized outlines
â”‚   â””â”€â”€ serp-analyzer.ts      â† Analyze top 10 results for a keyword
â””â”€â”€ prompts/
    â”œâ”€â”€ blog-writer.ts        â† Blog-specific system prompt
    â”œâ”€â”€ landing-page.ts       â† Landing page copy
    â””â”€â”€ email-sequence.ts     â† Email marketing
```

#### 1.3 â€” Real Publishing Integrations
**Current:** Publisher has integration framework but limited actual connectors.
**Need:** Battle-tested connectors for major platforms.

```
integrations/
â”œâ”€â”€ wordpress/        â† REST API (exists as concept)
â”œâ”€â”€ twitter/          â† X API v2
â”œâ”€â”€ linkedin/         â† LinkedIn API
â”œâ”€â”€ medium/           â† Medium API
â”œâ”€â”€ devto/            â† Dev.to API
â”œâ”€â”€ hashnode/         â† Hashnode GraphQL
â”œâ”€â”€ ghost/            â† Ghost Admin API
â”œâ”€â”€ webflow/          â† Webflow CMS API
â”œâ”€â”€ mailchimp/        â† Email campaigns
â””â”€â”€ buffer/           â† Social scheduling
```

#### 1.4 â€” Campaign System (Marketing Agent's Core)
**This is what makes it an AGENT, not just a tool.**

```
agents/campaign-manager/
â”œâ”€â”€ index.ts
â”œâ”€â”€ types.ts
â””â”€â”€ strategies/
    â”œâ”€â”€ product-launch.ts       â† Full PH/launch playbook
    â”œâ”€â”€ content-marketing.ts    â† Ongoing content calendar
    â”œâ”€â”€ social-blitz.ts         â† Multi-platform social push
    â”œâ”€â”€ email-nurture.ts        â† Drip campaign
    â”œâ”€â”€ seo-domination.ts       â† Long-term SEO play
    â””â”€â”€ competitor-counter.ts   â† React to competitor moves
```

A campaign is a **multi-step, multi-day autonomous workflow**:

```typescript
interface Campaign {
  id: string;
  name: string;
  strategy: string;              // "product-launch" | "content-marketing" | etc.
  status: "planning" | "active" | "paused" | "completed";
  
  // The plan (generated by orchestrator)
  plan: {
    steps: CampaignStep[];
    timeline: string;            // "2 weeks" | "ongoing"
    kpis: string[];              // what to measure
  };
  
  // Execution state
  currentStep: number;
  results: StepResult[];
  
  // Config
  tenantId: string;
  platforms: string[];
  budget?: number;
  startDate: string;
  endDate?: string;
}

interface CampaignStep {
  id: string;
  name: string;
  agent: string;                 // which agent handles this
  action: string;                // what to do
  dependsOn: string[];           // step ids that must complete first
  scheduledAt?: string;          // when to execute
  status: "pending" | "running" | "done" | "failed";
}
```

Example: **"Launch my SaaS on Product Hunt next Tuesday"**

```
Campaign: Product Hunt Launch
Strategy: product-launch

Step 1 (Day -5): Research
  â†’ Researcher: Analyze top PH launches in category
  â†’ Researcher: Study competitor launches
  â†’ Output: Research report + recommendations

Step 2 (Day -4): Content Creation  
  â†’ Writer: Write PH tagline, description, first comment
  â†’ Writer: Create maker story / behind-the-scenes
  â†’ Editor: Review all content
  â†’ Brand Manager: Ensure voice consistency

Step 3 (Day -3): Social Prep
  â†’ Social Writer: Create launch announcement posts (Twitter, LinkedIn)
  â†’ Social Writer: Create teaser posts for Day -2, Day -1
  â†’ Social Writer: Create "We're live!" posts for launch day

Step 4 (Day -2 to -1): Pre-launch
  â†’ Publisher: Schedule teaser posts
  â†’ Scheduler: Set up launch day timeline

Step 5 (Launch Day): Execute
  â†’ Publisher: Post on Product Hunt
  â†’ Publisher: Publish "We're live!" on all socials
  â†’ Monitor: Track upvotes, comments every hour
  â†’ Social Writer: Generate real-time engagement replies

Step 6 (Day +1): Report
  â†’ Analytics: Compile launch performance
  â†’ Writer: Write launch retrospective
  â†’ Output: Full report to user
```

---

### Phase 2: API & OpenClaw Integration

#### 2.1 â€” API Endpoints

```
POST   /api/v1/campaigns              â† Create campaign
GET    /api/v1/campaigns              â† List campaigns  
GET    /api/v1/campaigns/:id          â† Campaign status + progress
POST   /api/v1/campaigns/:id/pause    â† Pause campaign
POST   /api/v1/campaigns/:id/resume   â† Resume campaign
DELETE /api/v1/campaigns/:id          â† Cancel campaign

POST   /api/v1/generate               â† Quick one-shot (blog, social post, etc.)
POST   /api/v1/research               â† Research a topic
POST   /api/v1/seo/keywords           â† Keyword research
POST   /api/v1/seo/audit              â† SEO audit of a URL

GET    /api/v1/usage                   â† Usage stats
GET    /api/v1/billing                 â† Billing info

# Tenant management
POST   /api/v1/tenants                â† Create brand/tenant
GET    /api/v1/tenants                â† List brands
PUT    /api/v1/tenants/:id            â† Update brand config

# Webhooks (for real-time updates)
POST   /api/v1/webhooks               â† Register webhook
```

#### 2.2 â€” OpenClaw Skill (Thin Client)

```
skills/nextbase-marketing-agent/
â”œâ”€â”€ SKILL.md
â””â”€â”€ scripts/
    â””â”€â”€ api.sh
```

```yaml
---
name: nextbase-marketing-agent
description: >
  Autonomous marketing agent that runs full campaigns â€” product launches,
  content marketing, SEO, social media blitz, email nurture sequences.
  Use when user asks to "launch on Product Hunt", "create a marketing campaign",
  "write and publish content", "social media strategy", "SEO content plan",
  "email sequence", "competitor analysis". Powered by Nextbase AI.
---
```

#### 2.3 â€” Streaming Progress

Users need to see what the agent is doing in real-time:

```
User: "Launch my app on Product Hunt next Tuesday"

Marketing Agent: ğŸ¯ Starting Product Hunt Launch Campaign

ğŸ“‹ Planning...
  âœ… Strategy selected: product-launch
  âœ… Timeline: 7 days
  âœ… 6 steps planned

ğŸ” Step 1/6: Research (running...)
  â†’ Analyzing top PH launches in your category...
  â†’ Found 15 successful launches to study...
  â†’ Studying competitor "CompetitorX" launch...
  âœ… Research complete â€” report saved

âœï¸ Step 2/6: Content Creation (running...)
  â†’ Writing PH tagline...
  â†’ Writing description...
  ...
```

---

### Phase 3: Scale & Monetize

#### 3.1 â€” Usage Tracking & Rate Limiting

```typescript
interface UsageRecord {
  userId: string;
  tenantId: string;
  endpoint: string;
  tokensUsed: number;
  agentsUsed: string[];
  timestamp: string;
}

interface Plan {
  name: "free" | "pro" | "enterprise";
  limits: {
    campaignsPerMonth: number;      // free: 2, pro: 50, enterprise: unlimited
    generationsPerDay: number;      // free: 10, pro: 500, enterprise: unlimited
    platforms: string[];            // free: ["local"], pro: all, enterprise: all + custom
    agents: string[];               // free: basic, pro: all, enterprise: all + priority
    maxTokensPerMonth: number;      // token budget
  };
}
```

#### 3.2 â€” Billing (Stripe)

```
core/
â”œâ”€â”€ billing.ts           â† Stripe integration
â”‚   â”œâ”€â”€ createCheckout() 
â”‚   â”œâ”€â”€ handleWebhook()
â”‚   â”œâ”€â”€ getSubscription()
â”‚   â””â”€â”€ cancelSubscription()
```

#### 3.3 â€” Dashboard (Web UI)

```
public/
â”œâ”€â”€ index.html           â† Dashboard SPA
â”œâ”€â”€ campaigns.html       â† Campaign manager
â”œâ”€â”€ analytics.html       â† Performance dashboard
â”œâ”€â”€ settings.html        â† Brand config, API keys, billing
```

---

## Project Structure (Final)

```
agent_marketplace/
â”œâ”€â”€ core/                           â† Foundation (rarely changes)
â”‚   â”œâ”€â”€ agent.ts                    â† BaseAgent interface âœ…
â”‚   â”œâ”€â”€ message.ts                  â† Message types âœ…
â”‚   â”œâ”€â”€ bus.ts                      â† Message Bus âœ…
â”‚   â”œâ”€â”€ memory.ts                   â† Persistent memory âœ…
â”‚   â”œâ”€â”€ llm.ts                      â† LLM providers âœ…
â”‚   â”œâ”€â”€ executor.ts                 â† Safe code execution âœ…
â”‚   â”œâ”€â”€ tenant.ts                   â† Multi-tenant âœ…
â”‚   â”œâ”€â”€ auth.ts                     â† Auth system âœ…
â”‚   â”œâ”€â”€ billing.ts                  â† Stripe billing ğŸ”¨
â”‚   â”œâ”€â”€ usage.ts                    â† Usage tracking ğŸ”¨
â”‚   â”œâ”€â”€ rate-limiter.ts             â† Rate limiting ğŸ”¨
â”‚   â””â”€â”€ webhook.ts                  â† Webhook system ğŸ”¨
â”‚
â”œâ”€â”€ agents/                         â† Each agent = one folder
â”‚   â”œâ”€â”€ orchestrator/               â† Plans & delegates âœ…
â”‚   â”œâ”€â”€ researcher/                 â† Web research ğŸ”¨ upgrade
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ tools/
â”‚   â”‚       â”œâ”€â”€ web-search.ts
â”‚   â”‚       â”œâ”€â”€ web-scraper.ts
â”‚   â”‚       â”œâ”€â”€ competitor.ts
â”‚   â”‚       â””â”€â”€ trend-finder.ts
â”‚   â”œâ”€â”€ writer/                     â† Content creation ğŸ”¨ upgrade
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”‚   â”œâ”€â”€ keyword-analyzer.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ outline-builder.ts
â”‚   â”‚   â”‚   â””â”€â”€ serp-analyzer.ts
â”‚   â”‚   â””â”€â”€ prompts/
â”‚   â”‚       â”œâ”€â”€ blog-writer.ts
â”‚   â”‚       â”œâ”€â”€ landing-page.ts
â”‚   â”‚       â””â”€â”€ email-sequence.ts
â”‚   â”œâ”€â”€ editor/                     â† Content review âœ…
â”‚   â”œâ”€â”€ social-writer/              â† Social content âœ…
â”‚   â”œâ”€â”€ publisher/                  â† Platform publishing âœ…
â”‚   â”œâ”€â”€ brand-manager/              â† Brand consistency âœ…
â”‚   â”œâ”€â”€ scheduler/                  â† Scheduling âœ…
â”‚   â”œâ”€â”€ analytics/                  â† Performance tracking âœ…
â”‚   â”œâ”€â”€ campaign-manager/           â† Campaign orchestration ğŸ”¨ NEW
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ strategies/
â”‚   â”‚       â”œâ”€â”€ product-launch.ts
â”‚   â”‚       â”œâ”€â”€ content-marketing.ts
â”‚   â”‚       â”œâ”€â”€ social-blitz.ts
â”‚   â”‚       â”œâ”€â”€ email-nurture.ts
â”‚   â”‚       â”œâ”€â”€ seo-domination.ts
â”‚   â”‚       â””â”€â”€ competitor-counter.ts
â”‚   â””â”€â”€ skill-builder/              â† Auto-build integrations âœ…
â”‚
â”œâ”€â”€ integrations/                   â† Platform connectors
â”‚   â”œâ”€â”€ wordpress/                  ğŸ”¨
â”‚   â”œâ”€â”€ twitter/                    ğŸ”¨
â”‚   â”œâ”€â”€ linkedin/                   ğŸ”¨
â”‚   â”œâ”€â”€ medium/                     ğŸ”¨
â”‚   â”œâ”€â”€ devto/                      ğŸ”¨
â”‚   â”œâ”€â”€ ghost/                      ğŸ”¨
â”‚   â”œâ”€â”€ mailchimp/                  ğŸ”¨
â”‚   â””â”€â”€ buffer/                     ğŸ”¨
â”‚
â”œâ”€â”€ data/                           â† Runtime data
â”‚   â”œâ”€â”€ tenants/                    â† Per-tenant data
â”‚   â”œâ”€â”€ auth/                       â† User data
â”‚   â””â”€â”€ campaigns/                  â† Campaign state ğŸ”¨
â”‚
â”œâ”€â”€ memory/                         â† Shared memory
â”œâ”€â”€ output/                         â† Generated content
â”œâ”€â”€ public/                         â† Web UI ğŸ”¨
â”‚
â”œâ”€â”€ index.ts                        â† CLI entry point âœ…
â”œâ”€â”€ server.ts                       â† HTTP API âœ… (needs new endpoints)
â”œâ”€â”€ package.json                    âœ…
â”œâ”€â”€ agent_marketplace.md            â† Business plan âœ…
â””â”€â”€ MARKETING_AGENT_PLAN.md         â† This file
```

---

## Implementation Order

### Sprint 1: Real Research + Better Writing (Week 1)
1. Add web search tool to researcher (Brave/Serper API)
2. Add web scraper to researcher  
3. Upgrade writer with SEO-aware prompts
4. Test: "Research AI trends and write a blog" â†’ actual quality output

### Sprint 2: Campaign System (Week 2)
1. Build campaign-manager agent
2. Build campaign types (product-launch first)
3. Wire campaign â†’ orchestrator â†’ agents flow
4. Test: "Launch on Product Hunt" â†’ full campaign created

### Sprint 3: Publishing + API (Week 3)
1. Build real platform integrations (WordPress, Twitter, LinkedIn)
2. Add new API endpoints for campaigns
3. Add streaming progress
4. Test: End-to-end campaign execution

### Sprint 4: Auth + Billing + OpenClaw Skill (Week 4)
1. Add usage tracking
2. Add rate limiting per plan
3. Build Stripe billing
4. Build OpenClaw thin-client skill
5. Test: User installs skill â†’ creates campaign â†’ gets billed

---

## Design Principles

1. **Every new agent = just a folder.** No changes to existing code.
2. **Every new integration = just a folder.** Plug and play.
3. **Every new campaign strategy = just a file.** Easy to add.
4. **API-first.** Everything works via API. Dashboard is just a client.
5. **Multi-tenant from day 1.** Already built, just use it.
6. **Stateful campaigns.** Can pause, resume, recover from crashes.
7. **Observable.** Real-time progress, full logging, analytics.
