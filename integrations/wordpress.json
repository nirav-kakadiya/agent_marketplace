{
  "name": "wordpress",
  "description": "Publish posts to WordPress via REST API (supports self-hosted and WordPress.com)",
  "code": "async function execute(input, credentials) {\n  const baseUrl = (credentials.WORDPRESS_URL || '').replace(/\\/$/, '');\n  const username = credentials.WORDPRESS_USERNAME || '';\n  const password = credentials.WORDPRESS_APP_PASSWORD || credentials.WORDPRESS_API_KEY || '';\n\n  if (!baseUrl) return { success: false, error: 'WORDPRESS_URL not set' };\n  if (!password) return { success: false, error: 'WORDPRESS_APP_PASSWORD not set' };\n\n  const auth = btoa(`${username}:${password}`);\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': `Basic ${auth}`\n  };\n\n  const { action } = input;\n\n  if (action === 'publish' || action === 'create') {\n    const status = input.draft ? 'draft' : 'publish';\n    const body = {\n      title: input.title || 'Untitled',\n      content: input.content || '',\n      status,\n      excerpt: input.summary || '',\n      categories: input.categories || [],\n      tags: input.tags || []\n    };\n\n    const res = await fetch(`${baseUrl}/wp-json/wp/v2/posts`, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(body)\n    });\n\n    const data = await res.json();\n    if (!res.ok) return { success: false, error: data.message || `HTTP ${res.status}` };\n\n    return {\n      success: true,\n      data: {\n        id: data.id,\n        url: data.link,\n        title: data.title?.rendered,\n        status: data.status\n      }\n    };\n  }\n\n  if (action === 'list') {\n    const res = await fetch(`${baseUrl}/wp-json/wp/v2/posts?per_page=${input.limit || 10}`, { headers });\n    const data = await res.json();\n    return { success: true, data: data.map(p => ({ id: p.id, title: p.title?.rendered, url: p.link, status: p.status })) };\n  }\n\n  if (action === 'update') {\n    const res = await fetch(`${baseUrl}/wp-json/wp/v2/posts/${input.postId}`, {\n      method: 'PUT',\n      headers,\n      body: JSON.stringify({ title: input.title, content: input.content, status: input.status })\n    });\n    const data = await res.json();\n    if (!res.ok) return { success: false, error: data.message || `HTTP ${res.status}` };\n    return { success: true, data: { id: data.id, url: data.link } };\n  }\n\n  if (action === 'delete') {\n    const res = await fetch(`${baseUrl}/wp-json/wp/v2/posts/${input.postId}`, { method: 'DELETE', headers });\n    return { success: res.ok, data: { deleted: res.ok } };\n  }\n\n  return { success: false, error: `Unknown action: ${action}` };\n}",
  "requirements": [
    { "name": "WORDPRESS_URL", "description": "WordPress site URL (e.g. https://yoursite.com)", "type": "url", "required": true },
    { "name": "WORDPRESS_USERNAME", "description": "WordPress username", "type": "credential", "required": true },
    { "name": "WORDPRESS_APP_PASSWORD", "description": "WordPress Application Password (generate in Users → Profile → Application Passwords)", "type": "api_key", "required": true }
  ],
  "createdAt": "2026-02-17T12:00:00Z"
}